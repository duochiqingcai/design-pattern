<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="http://code.z01.com/v4/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://code.z01.com/zico.min.css">
    <!--Bootstrap-table CSS-->
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.13.5/dist/bootstrap-table.min.css">
    <title>Hello, world!</title>
    <!--登录/注册内联样式表-->
    <style type="text/css">

        html, body {
            height: 100%;
        }

        div.container {
            height: 100%;
        }

        /*.table-bordered td{*/
        /*padding: 0;*/
        /*}*/
        .table-bordered input,select {
            border: 0;
            padding: 0;
        }

    </style>
</head>
<body>
<div class="container">
    <!-- Content here -->
    <table class="table table-bordered table-sm">
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col" style="width: 110px">字段名称</th>
            <th scope="col" style="width: 110px">类型</th>
            <th scope="col" style="width: 110px">长度</th>
            <th scope="col" style="width: 110px">小数点</th>
            <th scope="col" style="width: 110px">不是null</th>
            <th scope="col" style="width: 110px">主键</th>
            <th scope="col">注释</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <th scope="row">1</th>
            <td><input class="input-block-level" style="width: 100%;" type="text"></td>
            <td>
                <select id="inputState1" class="input-block-level" style="width: 100%;">
                    <option selected>varchar</option>
                    <option selected>char</option>
                    <option selected>intr</option>
                    <option selected>tinyint</option>
                    <option selected>date</option>
                    <option selected>mediumint</option>
                    <option selected>varchar</option>
                    <option selected>varchar</option>
                </select></td>
            <td><input class="input-block-level" style="width: 100%;" type="text"></td>
            <td><input class="input-block-level" style="width: 100%;" type="text"></td>
            <td><input class="input-block-level" style="width: 100%;" type="checkbox"></td>
            <td><input class="input-block-level" style="width: 100%;" type="checkbox"></td>
            <td><input class="input-block-level" style="width: 100%;" type="text"></td>
        </tr>
        <tr>
            <th scope="row">1</th>
            <td><input class="input-block-level" style="width: 100%;" type="text"></td>
            <td>
                <select id="inputState2" class="input-block-level" style="width: 100%;">
                    <option selected>varchar</option>
                    <option selected>char</option>
                    <option selected>intr</option>
                    <option selected>tinyint</option>
                    <option selected>date</option>
                    <option selected>mediumint</option>
                    <option selected>varchar</option>
                    <option selected>varchar</option>
                </select></td>
            <td><input class="input-block-level" style="width: 100%;" type="text"></td>
            <td><input class="input-block-level" style="width: 100%;" type="text"></td>
            <td><input class="input-block-level" style="width: 100%;" type="checkbox"></td>
            <td><input class="input-block-level" style="width: 100%;" type="checkbox"></td>
            <td><input class="input-block-level" style="width: 100%;" type="text"></td>
        </tr>
        <!--<tr>-->
        <!--<th scope="row">3</th>-->
        <!--<td colspan="2">Larry the Bird</td>-->
        <!--<td>@twitter</td>-->
        <!--<td>@twitter</td>-->
        <!--<td>@twitter</td>-->
        <!--<td>@twitter</td>-->
        <!--</tr>-->
        </tbody>
    </table>

    <div class="input-group input-group-sm">
        <!--<div class="input-group-prepend">-->
        <!--<span class="input-group-text" id="inputGroup-sizing-sm">字段属性</span>-->
        <!--</div>-->
        <input type="text" class="form-control col-md-2">
        <select id="inputStates" class="form-control col-md-2">
            <option selected>varchar</option>
            <option selected>char</option>
            <option selected>intr</option>
            <option selected>tinyint</option>
            <option selected>date</option>
            <option selected>mediumint</option>
            <option selected>varchar</option>
            <option selected>varchar</option>
        </select>
        <input type="text" class="form-control col-md-1">
        <input type="text" class="form-control col-md-1">
        <input type="text" class="form-control col-md-1">
        <input type="text" class="form-control col-md-1">
    </div>

    <div class="col-md-12">
        <div style="float:right;margin:10px 0px 10px 5px">
            <a title="Add" href="./index.php?r=subprocess/add">
                <button type="button" class="btn btn-default" id="addData"<span style="color:#008000;background-color:#efefef;font-weight:bold;"></span>>
                <span class="glyphicon glyphicon-plus"></span>
                </button>
            </a>
        </div>
        <table class="table table-striped table-bordered table-hover" id="subprocessTable"></table>
    </div>
</div>


<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="http://code.z01.com/jquery/jquery-3.2.1.min.js"></script>
<script src="http://code.z01.com/v4/dist/js/popper.min.js"></script>
<script src="http://code.z01.com/v4/dist/js/bootstrap.min.js"></script>
<!-- Bootstrap-table JS-->
<script src="https://unpkg.com/bootstrap-table@1.13.5/dist/bootstrap-table.min.js"></script>
<script>
    $(function(){
        //初始化表格
        $('#subprocessTable').bootstrapTable({
            method: 'get',
            url:"./index.php?r=subprocess/subprocessInfo",
            editable:true,//开启编辑模式
            clickToSelect: true,
            cache: false,
            showToggle:true, //显示切换按钮来切换表/卡片视图。
            showPaginationSwitch:true, //显示分页切换按钮
            pagination: true,
            pageList: [10,25,50,100],
            pageSize:10,
            pageNumber:1,
            uniqueId: 'index', //将index列设为唯一索引
            striped: true,
            search: true,
            showRefresh: true,
            minimumCountColumns: 2,
            smartDisplay:true,
            columns: [
                [
                    {field:"index",title:"ID",align:"center",edit:false,formatter:function(value, row, index){
                            return row.index=index ; //返回行号
                        }},
                    {field:"actionName",title:"ActionName",align:"center",order:"asc",sortable:"true",formatter:function(value,row,index){
                            var strHtml ='<a href="./index.php?r=subprocess/modify&id='+ row.actionId +'">'+ row.actionName +'</a>';
                            return strHtml;
                        }},
                    {field:"category",title:"Category",align:"center",sortable:"true"},
                    {field:"description",title:"Description",align:"center"},
                    {field:"action",title:"Action",align:"center",formatter:function(value,row,index){
                            var strHtml ='<a href="./index.php?r=subprocess/modify&id='+ row.actionId +'"><li class="glyphicon glyphicon-pencil"></li></a>'+
                                '<a href="javascript:void(0);" onclick="removeData('+ index +')" style="margin-left:5px;"><li class="glyphicon glyphicon-remove"></li></a>';
                            return strHtml;
                        },edit:false},
                    {field:"actionId",title:"ActionID",align:"center",edit:false,visible:false,searchable:false}
                ]
            ]
        });

        /**
         * add a new row
         */
        $('#addData').click(function(){
            $('#subprocessTable').bootstrapTable('selectPage', 1); //Jump to the first page
            var data = {actionId: '', actionName: '',category:'', description: ''}; //define a new row data，certainly it's empty

            $('#subprocessTable').bootstrapTable('prepend', data); //the method of prepend must defined all fields，but append needn't
            //$('#dataTable').bootstrapTable('append',data);

            $("#dataTable tr:eq(1) td:eq(0)").trigger("dblclick");
            $("#dataTable input")[0].focus();
        });
    });

</script>
</body>
</html>